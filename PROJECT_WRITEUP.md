# Enhanced Streamlit Dashboard - Project Write-up

## üåê Working Public URL
**https://abhi1044--enhanced-streamlit-dashboard-run.modal.run**

## üìä How I Added Charts Locally

I enhanced the original Streamlit dashboard by adding three new interactive visualizations using Plotly, which provides much richer interactivity compared to the basic st.bar_chart. The first enhancement was an **Interactive Plotly Histogram** that replaces the simple bar chart with a color-coded visualization showing hourly pickup distributions. I used `plotly.express.bar()` with a viridis color scale that maps pickup counts to colors, making patterns more visually apparent. The second addition was a **Day of Week Pie Chart** that analyzes pickup patterns across different weekdays by extracting day names from the datetime column and creating a pie chart with `plotly.express.pie()`. This reveals weekly patterns that weren't visible in the original hourly view. The third chart is a **Pickup Density Heatmap** using `plotly.graph_objects.Heatmap()` that shows the relationship between hour of day and day of week, creating a 2D visualization that reveals peak activity periods.

Beyond charts, I added extensive interactivity including a sidebar with date range selectors using `st.date_input()`, sample size controls with `st.selectbox()`, and a multi-column statistics display showing key metrics like total pickups and peak hours. I also integrated Supabase database connectivity that automatically detects environment variables and allows users to switch between the Uber dataset and their own database tables. The app dynamically generates visualizations for any Supabase table by analyzing column types and creating appropriate charts for numeric and categorical data. All visualizations maintain responsive design with `use_container_width=True` and include download functionality for filtered datasets.

## üîê Setting Up Secrets Using Modal UI

Since Modal requires secrets to be configured through their dashboard UI for production deployment, the setup process involves logging into the Modal dashboard after deployment and navigating to the Secrets section. The process would be to create a new secret named "my-secret" and add two key-value pairs: `SUPABASE_URL` with your Supabase project URL and `SUPABASE_KEY` with your anon/public key. However, for this demonstration deployment, I configured the app to work without Supabase secrets initially to ensure the core functionality deploys successfully. The app intelligently detects whether Supabase credentials are available and gracefully falls back to the original Uber dataset when they're not present, displaying an informational message about setting up the environment variables to enable database features.

## üõ†Ô∏è Errors Encountered and Solutions

The main challenge was adapting to Modal's evolving API and deployment requirements. Initially, I encountered a **deprecation warning** about `allow_concurrent_inputs` parameter being deprecated in favor of the `@modal.concurrent` decorator. I resolved this by updating the function decorators to use the newer Modal 1.0 syntax, removing the deprecated parameter entirely for simplicity. The second issue was a **volume error** where Modal couldn't find a volume named "my-data" that I had initially configured for persistent storage. I solved this by simplifying the Modal app configuration to focus on core functionality, removing the volume dependency since it wasn't essential for the Streamlit deployment. The third challenge was ensuring proper **package installation** in the Modal environment - I switched from `uv_pip_install` to the standard `pip_install` method and ensured all required packages (streamlit, pandas, plotly, supabase) were properly specified in the image configuration. Finally, I handled **environment variable management** by implementing graceful fallbacks in the Streamlit app, so it works both locally with `.env` files and in Modal with or without secrets configured, making the deployment robust and user-friendly regardless of the setup state.